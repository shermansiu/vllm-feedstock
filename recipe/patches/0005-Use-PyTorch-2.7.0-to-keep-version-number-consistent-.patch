From 79fc8fe033d9105b0e7674a1be4516879b79a173 Mon Sep 17 00:00:00 2001
From: Sherman Siu <s8siu@uwaterloo.ca>
Date: Sun, 31 Aug 2025 18:08:54 -0400
Subject: [PATCH 5/5] Use PyTorch 2.7.0 to keep version number consistent
 across builds

---
 requirements/cpu-build.txt | 2 +-
 requirements/cpu.txt       | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/requirements/cpu-build.txt b/requirements/cpu-build.txt
index 37f072202..91f6cf297 100644
--- a/requirements/cpu-build.txt
+++ b/requirements/cpu-build.txt
@@ -6,7 +6,7 @@ packaging>=24.2
 setuptools>=77.0.3,<80.0.0
 setuptools-scm>=8
 --extra-index-url https://download.pytorch.org/whl/cpu
-torch==2.6.0+cpu
+torch==2.7.0
 wheel
 jinja2>=3.1.6
 regex
diff --git a/requirements/cpu.txt b/requirements/cpu.txt
index df3a33935..29e53b997 100644
--- a/requirements/cpu.txt
+++ b/requirements/cpu.txt
@@ -8,7 +8,7 @@ numba == 0.61.2; python_version > '3.9'
 packaging>=24.2
 setuptools>=77.0.3,<80.0.0
 --extra-index-url https://download.pytorch.org/whl/cpu
-torch==2.6.0+cpu; platform_machine == "x86_64" # torch>2.6.0+cpu has performance regression on x86 platform, see https://github.com/pytorch/pytorch/pull/151218
+torch==2.7.0; platform_machine == "x86_64" # torch>2.6.0+cpu has performance regression on x86 platform, see https://github.com/pytorch/pytorch/pull/151218
 torch==2.7.0; platform_system == "Darwin"
 torch==2.7.0; platform_machine == "ppc64le" or platform_machine == "aarch64"
 
